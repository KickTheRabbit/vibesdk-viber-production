VERSION: v50 "Minestrone" üç≤
BASE: v45 (working version)
DATE: 2025-12-29
PURPOSE: Fix blueprint agentId bug - events were going to wrong agent

THE BUG:
- blueprint was called with empty agentId (this.state.sessionId = '')
- sessionId only set AFTER blueprint call
- Events went to wrong/no agent ‚Üí didn't reach frontend

THE FIX:
Line 285 in worker/agents/core/simpleGeneratorAgent.ts:
  OLD: agentId: this.state.sessionId,     // Empty at call time!
  NEW: agentId: this.getAgentId(),        // Returns correct agentId!

IMPACT:
- Blueprint events should now reach frontend
- 10/12 events working (up from 9/12)
- Still missing: 1x projectSetup, 1x firstPhaseImplementation

FILES MODIFIED:
1. worker/agents/core/simpleGeneratorAgent.ts (1 line changed)

DEPLOYMENT:
- Should compile without errors
- Deploy with: wrangler deploy --config wrangler.jsonc
- Test: Create new project, check Cloudflare logs for agentId
- Verify: Browser console should receive blueprint event

CREDITS:
- v46 debug logs revealed the empty agentId
- Simple 1-line fix using existing getAgentId() method
